# @package _global_

defaults:
  - override /hydra/launcher: submitit_slurm

n_gpus: 8
cpus_per_task: 16
mem_per_gpu_gb: 210
cache_dir: null # Use stable-worldmodel default cache

wandb_entity: basileterv
wandb_project: stable-wm

subdir: ${hydra.job.id}

wandb:
  enable: true
  entity: ${wandb_entity}
  project: ${wandb_project}

hydra:
  mode: MULTIRUN

  launcher:
    timeout_min: 4000 # 72 hours
    cpus_per_task: ${cpus_per_task}
    mem_gb: ${mem_per_gpu_gb} # ${n_gpus} * ${mem_per_gpu_gb}
    gpus_per_node: ${n_gpus}
    tasks_per_node: ${n_gpus}
    nodes: 1
    partition: learn
    account: fair_amaia_cw_video
    qos: lowest
