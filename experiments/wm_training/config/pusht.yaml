defaults:
  - _self_
  - launcher: local
  - backbone: dinov2_small
  - predictor: small

wandb:
  enable: true
  project: xenoworlds
  entity: simon-lacoste-julien

dataset_name: pusht_expert_train
cache_dir: null #${oc.env:SLURM_TMPDIR, null}
#output_model_name: pyro_train

trainer:
  max_epochs: 100
  strategy: ddp
  devices: auto
  accelerator: gpu
  precision: 16-mixed

batch_size: 32
num_workers: 16
train_split: 0.9
seed: 42

image_size: 224
patch_size: 16

#backbone: facebook/dinov2-small

n_steps: ${eval:'${pyro.num_preds} + ${pyro.history_size}'}
frameskip: 5

pyro:
  history_size: 3
  num_preds: 1
  encoding: # key: target dim
    proprio: 10
    action: 10

# predictor:
#   depth: 6
#   heads: 16
#   mlp_dim: 2048
#   dim_head: 64
#   dropout: 0.1
#   emb_dropout: 0.0

predictor_lr: 5e-4
encoding_lr: 5e-4

dump_object: True


output_model_name: pusht_${backbone.type}_p${predictor.size}
